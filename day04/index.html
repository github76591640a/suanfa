<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <img src="./321615374171_.pic.jpg" alt="">
</body>
<script>
  let arr = [1,2,5,5,5,5,5,5,5,5,5,5,5,5,5,5,24]
  // 题目： 统计一个数字在排好序的数组中出现的次数
  // 不考虑特殊情况

  /**
   * 解法一： 暴力迭代
   * 写和不写一样的写法
  */
  function findReapetTimes1(arr, num) {
    let times = 0
    for(let i = 0;i < arr.length; i++) {
      if(arr[i] === num) times++
    }
    return times
  }

  /**
   * 解法二： 使用二分法加递归查找出现的次数
   * 思路：首先用二分法找到数组中的这个值，然后遍历数组两边不想等位置的index
  */
  function findReapetTimes2(arr, num) {
    let minI = 0
    let maxI = arr.length - 1
    let target = undefined
    let cenI = 0
    while(minI < maxI) {
      cenI = Math.floor((minI + maxI)/2)
      if(arr[cenI] > num) {
        maxI = cenI - 1
      } else if(arr[cenI] < num) {
        minI = cenI + 1
      }else {
        target = cenI
        break
      }
    }
    if(target) {
      let startT = endT = cenI
      while(
        arr[startT] === num ||
        arr[endT] === num
      ) {
        if(arr[startT] === num) {
          startT -= 1
        }
        if(arr[endT] === num) {
          endT += 1
        }
      }
      return endT - startT - 1
    }
    return 0
  }

  /**
   * 解法三： 充分使用js数组的api实现
   * 思路： 就是简单调用api，简单
  */
 function findReapetTimes3(arr, num) {
  return arr.filter(item => item === num).length
 }
</script>
</html>